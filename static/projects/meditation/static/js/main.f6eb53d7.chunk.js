(this["webpackJsonpmeditation-app"]=this["webpackJsonpmeditation-app"]||[]).push([[0],[,,,function(e,t,n){e.exports={switch:"Switch_switch__3kjH9",switchBody:"Switch_switchBody__Tm6e2",input:"Switch_input__rGcFK",switchChecked:"Switch_switchChecked__HSz9X"}},function(e,t,n){e.exports={range:"Range_range__QVs4y",label:"Range_label__2mw6V",slider:"Range_slider__Y-j6C"}},function(e,t,n){e.exports={timer:"Timer_timer__O1fZ4",time:"Timer_time__Elhw0"}},,,function(e,t,n){e.exports={btn:"Btn_btn__1Wy3s"}},function(e,t,n){e.exports={nav:"Nav_nav__2FSag"}},function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),l=n(7),i=n.n(l),r=(n(15),n(1)),o=c.a.createContext({isBellOn:!0,changeBellStatus:function(){},appTime:0,changeAppTime:function(){},bellInterval:0,changeBellInterval:function(){}}),s=n(2),u=n(8),m=n.n(u),f=function(e){var t=e.title,n=e.clickHandler,a=e.icon;return c.a.createElement("button",{title:t,className:m.a.btn,onClick:n},a)};f.defaultProps={title:""};var p=f,d=n(5),v=n.n(d),b=function(e){var t=e.time,n=Math.floor(t/60),a=("0"+t%60).slice(-2);return c.a.createElement("div",{className:v.a.timer},c.a.createElement("span",{className:v.a.time},n,":",a))},h=function(){var e=Object(a.useContext)(o),t=Object(a.useRef)(Number(e.appTime)),n=Object(a.useRef)(Number(e.bellInterval)),l=Object(a.useRef)(e.isBellOn),i=Object(a.useRef)(),u=Object(a.useRef)(new Audio("./bell.mp3")),m=Object(a.useState)(!1),f=Object(r.a)(m,2),d=f[0],v=f[1],h=Object(a.useState)(60*e.appTime),g=Object(r.a)(h,2),E=g[0],O=g[1],w=Object(a.useState)(60*e.bellInterval),S=Object(r.a)(w,2),_=S[0],j=S[1],k=function(){v(!1),O(60*t.current),j(60*n.current)},T=function(){u.current.play()};return Object(a.useEffect)((function(){d?i.current=setInterval((function(){O((function(e){return e-1})),j((function(e){return e-1}))}),1e3):clearInterval(i.current)}),[d]),Object(a.useEffect)((function(){0===E&&(k(),navigator.vibrate([500,250,500]))}),[E]),Object(a.useEffect)((function(){0===_&&j(60*n.current)}),[_]),Object(a.useEffect)((function(){0===E&&T(),0===_&&l.current&&T()}),[E,_]),c.a.createElement("section",{className:"timer"},c.a.createElement(p,{title:"Reset",clickHandler:k,icon:c.a.createElement(s.b,null)}),c.a.createElement(b,{time:E}),d?c.a.createElement(p,{title:"Pause",clickHandler:function(){return v(!1)},icon:c.a.createElement(s.c,null)}):c.a.createElement(p,{title:"Start",clickHandler:function(){return v(!0)},icon:c.a.createElement(s.d,null)}))},g=n(4),E=n.n(g),O=function(e){var t=e.name,n=e.label,a=e.max,l=e.value,i=e.changeHandler;return c.a.createElement("div",{className:E.a.range},c.a.createElement("label",{className:E.a.label,htmlFor:t},c.a.createElement("span",null,n),c.a.createElement("span",null,"".concat(l," ").concat(l>1?"minutes":"minute"))),c.a.createElement("input",{id:t,className:E.a.slider,title:"Change ".concat(n),type:"range",min:"1",max:a,step:"1",value:l,onChange:function(e){return i(e.target.value)}}))};O.defaultProps={label:"",max:60};var w=O,S=n(3),_=n.n(S),j=function(e){var t=e.name,n=e.label,a=e.value,l=e.changeHandler,i=["".concat(_.a.switch)];return a&&i.push("".concat(_.a.switchChecked)),c.a.createElement("div",{className:i.join(" ")},c.a.createElement("span",{className:_.a.label},"".concat(n," ").concat(a?"On":"Off")),c.a.createElement("label",{tabIndex:"0",onKeyPress:function(e){"Enter"===e.key&&l(!a)},title:a?"Turn Off":"Turn On",htmlFor:t,className:_.a.switchBody}),c.a.createElement("input",{id:t,className:_.a.input,type:"checkbox",checked:a,onChange:function(e){return l(e.target.checked)}}))};j.defaultProps={label:""};var k=j,T=function(){var e=Object(a.useContext)(o);return c.a.createElement("section",{className:"settings"},c.a.createElement(w,{name:"appTime",label:"Meditation time",value:e.appTime,changeHandler:e.changeAppTime}),c.a.createElement(k,{name:"bellStatus",label:"Bell:",value:e.isBellOn,changeHandler:e.changeBellStatus}),e.isBellOn?c.a.createElement(w,{name:"bellInterval",label:"Bell interval",max:e.appTime,value:e.bellInterval,changeHandler:e.changeBellInterval}):null)},B=n(9),N=n.n(B),I=function(e){var t=e.activeSection,n=e.clickHandler,a="Timer"===t?["Settings",c.a.createElement(s.a,null)]:["Timer",c.a.createElement(s.e,null)];return c.a.createElement("nav",{className:N.a.nav},c.a.createElement(p,{title:a[0],icon:a[1],clickHandler:function(){n(a[0])}}))};var y=function(){var e,t=JSON.parse(localStorage.getItem("meditationAppSettings")),n={appTime:t?t.appTime:"15",isBellOn:!t||t.isBellOn,bellInterval:t?t.bellInterval:"1"},l=Object(a.useState)("Timer"),i=Object(r.a)(l,2),s=i[0],u=i[1],m=Object(a.useState)(n.isBellOn),f=Object(r.a)(m,2),p=f[0],d=f[1],v=Object(a.useState)(n.appTime),b=Object(r.a)(v,2),g=b[0],E=b[1],O=Object(a.useState)(n.bellInterval),w=Object(r.a)(O,2),S=w[0],_=w[1];return e="Timer"===s?c.a.createElement(h,null):c.a.createElement(T,null),Object(a.useEffect)((function(){null===localStorage.getItem("meditationAppSettings")&&localStorage.setItem("meditationAppSettings",JSON.stringify(n))})),Object(a.useEffect)((function(){var e={appTime:g,isBellOn:p,bellInterval:S};localStorage.setItem("meditationAppSettings",JSON.stringify(e))}),[g,p,S]),c.a.createElement("div",{className:"container"},c.a.createElement(o.Provider,{value:{isBellOn:p,changeBellStatus:d,appTime:g,changeAppTime:E,bellInterval:S,changeBellInterval:_}},c.a.createElement("main",{className:"main"},e)),c.a.createElement(I,{activeSection:s,clickHandler:u}))},x=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(c.a.createElement(y,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");x?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):C(t,e)}))}}()}],[[10,1,2]]]);
//# sourceMappingURL=main.f6eb53d7.chunk.js.map